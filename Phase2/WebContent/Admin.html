<!DOCTYPE html>
<html>
<head>
<title></title>
<meta charset="utf-8" />
<script
	src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js"></script>
<script src="appAdmin.js"></script>
<link href="Admin.css" rel="stylesheet" />
<script src="Admin.js"></script>
</head>
<body ng-app="myApp">
	<div id="container" ng-controller="myController">
		<div id="byePop">

			<div id="logOutCont">
				See you Soon, GoodBye!
				<div id="logo2">
					<div id="logoWriting2">
						<div id="first2">
							C<br> M<br> S<br>
						</div>
						<div id="second2">
							<div id="c">oupon</div>
							<div id="m2">anagement</div>
							<div id="s2">ystems</div>
						</div>
					</div>
				</div>

			</div>
		</div>



		<div id="header">
			<div id="welcome">Welcome to the coupon management system</div>
			<div id="actions">
				<div id="history"></div>
				<div onClick="pop('byePop'),quit()" ng-click="goodBye()"
					id="logoutIcon"></div>
				<div id="help"></div>

			</div>
			<div id="logo">
				<div id="logoWriting">
					<div id="first">
						C<br> M<br> S<br>
					</div>
					<div id="second">
						<div id="c">oupon</div>
						<div id="m">anagement</div>
						<div id="s">ystems</div>
					</div>
				</div>

			</div>


		</div>
		<div id="blueLine"></div>
		<div id="logged">
			Welcome back {{userNamefromSession}},<br /> What would you like to
			do today?
		</div>


		<div id="innerBackground">

			<div id="MAIN3X3GRID">
				<div class=createCell>
					<!--CREATE company -->
					<button id="create">Create</button>
					<div id="cr-choice">
						<input id="createCompBtn" type="button" ng-click="resetFields()"
							value="Company" /> <input id="createCustBtn" type="button"
							ng-click="resetFields()" value="Customer" />
					</div>
					<div id="createCompForm">
						<button class="aaa" id="closeResponse" onclick="Do()">X</button>



						<form name="createCompForm" novalidate>

							<div class="form-group"
								ng-class="{ 'has-error' : createCompForm.name.$invalid && !createCompForm.name.$pristine }">
								<label>Name</label> <input type="text" name="name"
									class="form-control" ng-model="company.name" required>
								<p
									ng-show="createCompForm.name.$invalid && !createCompForm.name.$pristine"
									class="help-block">company name is required.</p>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : createCompForm.email.$invalid && !createCompForm.email.$pristine }">
								<label>Email</label> <input type="email" name="email"
									class="form-control" ng-model="company.email">
								<p
									ng-show="createCompForm.email.$invalid && !createCompForm.email.$pristine"
									class="help-block">Enter a valid email.</p>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : createCompForm.password.$invalid && !createCompForm.password.$pristine }">
								<label>Password</label> <input type="password" name="password"
									class="form-control" ng-model="company.password"
									ng-minlength="4" ng-maxlength="8">
								<p ng-show="createCompForm.password.$error.minlength"
									class="help-block">Minimum 4 characters required</p>
								<p ng-show="createCompForm.password.$error.maxlength"
									class="help-block">password must be less than 8 characters</p>
							</div>
							<button class="reset" type="reset">Reset</button>

						</form>
						<button type="submit" class="submit"
							ng-disabled="createCompForm.$invalid"
							ng-click="createComp(company.name,company.email,company.password)"
							id="Create-Comp">Submit</button>


					</div>
					<div id="reply">
						<p></p>
						<p>{{createdCompany}}</p>
						<button class="aaa" id="closeReply" onclick="Do()">X</button>
					</div>

					<!--CREATE cust -->

					<div id="createCustDiv">
						<button class="aaa" id="closeResponse" onclick="Do()">X</button>
						<form name="createCustForm" novalidate>

							<div class="form-group"
								ng-class="{ 'has-error' : createCustForm.name.$invalid && !createCustForm.name.$pristine }">
								<label>Name</label> <input type="text" name="name"
									class="form-control" ng-model="customer.name" required>
								<p
									ng-show="createCustForm.name.$invalid && !createCustForm.name.$pristine"
									class="help-block">Customer name is required.</p>
							</div>


							<div class="form-group"
								ng-class="{ 'has-error' : createCustForm.password.$invalid && !createCustForm.password.$pristine }">
								<label>Password</label> <input type="password" name="password"
									class="form-control" ng-model="customer.password"
									ng-minlength="4" ng-maxlength="8">
								<p ng-show="createCustForm.password.$error.minlength"
									class="help-block">Minimum 4 characters required</p>
								<p ng-show="createCustForm.password.$error.maxlength"
									class="help-block">password must be less than 8 characters</p>
							</div>
							<button class="reset" type="reset">Reset</button>

						</form>
						<button type="submit" class="submit"
							ng-disabled="createCustForm.$invalid"
							ng-click="createCust(customer.name,customer.password)"
							id="Create-Cust">Submit</button>


					</div>
					<div id="reply2">
						<p></p>
						<p>{{createdCustomer}}</p>
						<button class="aaa" id="closeReply2" onclick="Do()">X</button>
					</div>

				</div>
				<!--end of createCell-->

				<div id="updateCell">
					<!--UPDATE comp-->
					<button id="UPDATEComp">Update</button>
					<div id="up-choice">
						<input id="updateCompBtn" type="button" value="Company"
							ng-click="resetFields()" /> <input id="updateCustBtn"
							type="button" value="Customer" ng-click="resetFields()" />
					</div>
					<div class="res" id="updateCompForm">
						<button class="aaa" onclick="Do()">X</button>

						<form id="updatecompanyInfo" name="updateCompForm" novalidate>
							Enter the company id: <input type="number" id="UPcompId"
								ng-model="company.id" /><br> Please update the following
							details:

							<div class="form-group"
								ng-class="{ 'has-error' : updateCompForm.email.$invalid && !updateCompForm.email.$pristine }">
								<label>Email</label> <input type="email" name="email"
									class="form-control" ng-model="company.email">
								<p
									ng-show="updateCompForm.email.$invalid && !updateCompForm.email.$pristine"
									class="help-block">Enter a valid email.</p>
							</div>

							<div class="form-group"
								ng-class="{ 'has-error' : updateCompForm.password.$invalid && !updateCompForm.password.$pristine }">
								<label>Password</label> <input type="password" name="password"
									class="form-control" ng-model="company.password"
									ng-minlength="4" ng-maxlength="8">
								<p ng-show="updateCompForm.password.$error.minlength"
									class="help-block">Minimum 4 characters required</p>
								<p ng-show="updateCompForm.password.$error.maxlength"
									class="help-block">password must be less than 8 characters</p>
							</div>
							<button class="reset" type="reset">Reset</button>
						</form>
						<button type="submit" class="submit"
							ng-disabled="updateCompForm.$invalid"
							ng-click="doUpdate(company.id,company.email,company.password)"
							id="UPComp">Submit</button>

					</div>
					<div id="reply3">
						<p></p>
						<p>{{updatedComp}}</p>
						<button class="aaa" id="closeReply3" onclick="Do()">X</button>
					</div>


					<!--UPDATE customer-->
					<div class="res" id="updateCustForm">
						<button class="aaa" onclick="Do()">X</button>

						<form name="updateCustForm" novalidate>
							Enter the customer id: <input type="number" id="UPcustId "
				ng-model="customer.id" /><br>
							Please enter the new password:<br>

							<div class="form-group"
								ng-class="{ 'has-error' : updateCustForm.password.$invalid && !updateCustForm.password.$pristine }">
								<input type="password" name="password" class="form-control"
									ng-model="customer.password" ng-minlength="4" ng-maxlength="8">
								<p ng-show="updateCustForm.password.$error.minlength"
									class="help-block">Minimum 4 characters required</p>
								<p ng-show="updateCustForm.password.$error.maxlength"
									class="help-block">password must be less than 8 characters</p>
							</div>
							<button class="reset" type="reset">Reset</button>
						</form>
						<button type="submit" class="submit"
							ng-disabled="updateCustForm.$invalid"
							ng-click="doUpdateCust(customer.id,customer.password)"
							id="UPCust">Submit</button>

					</div>
					<div id="reply4">
						<p></p>
						<p>{{updatedCust}}</p>
						<button class="aaa" id="closeReply4" onclick="Do()">X</button>
					</div>
				</div>
				<!--end of updateCell cmp-->

				<div id="deleteCell">
					<!--DELETE comp-->
					<button id="DELComp">Delete</button>
					<br> <br>
					<div id="dl-choice">
						<input id="deleteCompBtn" type="button" ng-click="resetFields()"
							value="Company" /> <input id="deleteCustBtn" type="button"
							value="Customer" ng-click="resetFields()" />
					</div>
					<div id="DELCompForm">
						<button class="aaa" id="closeResponse" onclick="Do()">X</button>

						<form>
							<p>
								Enter the company id you want to delete: </br> <input type="text"
									id="compId" ng-model="companyId" />
							</p>
							<button class="reset" type="reset" id="resetButton1">Reset</button>
						</form>
						<button class="submit" id="DeleteComp" type="submit"
							value="submit" ng-click="deleteCompany(companyId)">Submit</button>
					</div>
					<div id="reply5">
						<p></p>
						<p>{{deletedCompany}}</p>
						<button class="aaa" id="closeReply5" onclick="Do()">X</button>
					</div>


					<!--DELETE cust-->
					<div id="DELCustForm">
						<button class="aaa" id="closeResponse" onclick="Do()">X</button>

						<form>
							<p>
								Enter the customer id you want to delete:</br> <input type="text"
									id="custId" ng-model="customerId" />
							</p>
							<button class="reset" type="reset" id="resetButton1">Reset</button>
						</form>
						<button class="submit" id="DeleteCust" type="submit"
							value="submit" ng-click="deleteCustomer(customerId)">Submit</button>
					</div>
					<div id="reply6">
						<p></p>
						<p>{{deletedCust}}</p>
						<button class="aaa" id="closeReply6" onclick="Do()">X</button>
					</div>

				</div>
				<!--end of deleteCell cmp-->



				<div id="findCell">
					<!--find a comp-->
					<button id="FindComp">Find</button>
					<br> <br>
					<div id="find-choice">
						<input id="findCompBtn" type="button" value="Company"
							ng-click="resetFields()" />
							 <input id="findCustBtn" type="button" value="Customer" 	ng-click="resetFields(customer.id)" />
					</div>
					<div class="res" id="FINDCompForm">
						<form>
							<p>Enter the id of the company you want to find:</p>
							<input type="text" id="FindcompId" ng-model="company.id" />


							<button class="aaa" id="closeResponsefind" onclick="Do()">X</button>

							<button class="reset" type="reset" id="resetButtonFind">Reset</button>
						</form>

						<button class="submit" id="FIND-COMP" type="submit" value="submit"
							ng-click="findCompany(company.id)">Submit</button>
					</div>
					<div id="reply7">
						<p></p>

						<p id="header">The Company you requested {{NoCompany}}</p>
						<table id="findCompTable" border="1">
							<thead>
								<tr>
									<th id="idHead">Id</th>
									<th id="nameHead">Name</th>
									<th id="emailHead">Email</th>
								</tr>
							<tbody>
								<tr>

									<td>{{ gotCompany.id}}</td>
									<td>{{ gotCompany.companyName}}</td>
									<td>{{ gotCompany.email }}</td>
								</tr>
							</tbody>
						</table>
						{{errors}}
						<button class="aaa" id="closeReply7" onclick="Do()">X</button>
					</div>

					<!--find a customer-->
					<div class="res" id="FINDCustForm">
						<form>
							<p>Enter the id of the customer you want to find:</p>
							<input type="text" id="FindcompId" ng-model="customer.id" />


							<button class="aaa" id="closeResponsefind2" onclick="Do()">X</button>
							<button class="reset" type="reset" id="resetButtonFind">Reset</button>
						</form>

						<button class="submit" id="FIND-CUST" type="submit" value="submit"
							ng-click="findCustomer(customer.id)">Submit</button>
					</div>
					<div id="reply8">
						<p></p>
						<p id="header2">The Customer you requested {{NoCustomer}}</p>
						<table id="findCustTable" border="1">
							<thead>
								<tr>
									<th id="idHead">Id</th>
									<th id="nameHead">Name</th>
								</tr>
							<tbody>
								<tr>
									<td>{{ gotCustomer.id}}</td>
									<td>{{ gotCustomer.companyName}}</td>
								</tr>
							</tbody>
						</table>

						<button class="aaa" id="closeReply8" onclick="Do()">X</button>
					</div>

				</div>
				<!--end of findCell -->

				<div>
					<!--find all -->
					<button id="FindAll">Find all</button>
					<br> <br>
					<div id="all-choice">

						<input id="allCompBtn" type="button" ng-click="getAllComps()"
							value="Companies" /> <input id="allCustBtn" type="button"
							ng-click="getAllCusts()" value="Customers" />
					</div>
				</div>

			</div>
			<!--end of find All Cell cmp-->

			<!--QUIT-->
			<div id="quitDiv">
				<button id="quit" onClick="pop('byePop'),quit()"
					ng-click="goodBye()">Quit</button>
				<div></div>

			</div>






			<div id="responseMainComp">
				<button class="aaa2" id="closeResponse" onclick="Do()">X</button>
				<div class="tooltip">
					<button id="refresh" ng-click="refreshTables()"></button>
					<span class="tooltiptext">Refresh data</span>
				</div>
				<p id="allCompHeader">All existing companies</p>

				<div id="orderByDiv">
					Order by:<select id="selectByInput" ng-model="sortColumn">

						<option value="companyId">Company Id</option>
						<option value="companyName">Company Name</option>
						<option value="companyEmail">Company Email</option>
					</select>
				</div>


				<div id="CompScrollDiv">
					<table id="allCompTable" border="1">
						<thead>
							<tr>
								<th id="idHead">Id</th>
								<th id="nameHead">Name</th>
								<th id="emailHead">Email</th>
								<!--	<th id="passwordHead">Password</th>-->
								<th id="actionsHead">Actions</th>

							</tr>
						<tbody>
							<tr
								ng-repeat="company in companies  |  orderBy:sortColumn   | filter:searchText">
								<td>{{ company.companyId}}</td>
								<td>{{ company.companyName}}</td>
								<td>{{ company.email }}</td>
								<!--  	<td>{{ company.password }}</td>-->


								<td><input id="allCompUp" type="button"
									ng-click="allCompUpDiv=true" class="blue-button" value="Edit" />
									<input type="button" ng-click="allCompDelDiv=true"
									class="red-button" value="Delete" />

									<div class="wrapper">
										<p ng-hide="allCompUpDiv"></p>
										<div ng-show="allCompUpDiv">

											<form id="updatecompanyInfo" name="updateCompForm" novalidate>

												Please update the following details: Email:
												<div class="form-group"
													ng-class="{ 'has-error' : updateCompForm.email.$invalid && !updateCompForm.email.$pristine }">
													<input type="email" name="email" class="form-control"
														ng-model="company.email">
													<p
														ng-show="updateCompForm.email.$invalid && !updateCompForm.email.$pristine"
														class="help-block">Enter a valid email.</p>
												</div>

												<div class="form-group"
													ng-class="{ 'has-error' : updateCompForm.password.$invalid && !updateCompForm.password.$pristine }">
													Password <input type="password" name="password"
														class="form-control" ng-model="company.password"
														ng-minlength="4" ng-maxlength="8">
													<p ng-show="updateCompForm.password.$error.minlength"
														class="help-block">Minimum 4 characters required</p>
													<p ng-show="updateCompForm.password.$error.maxlength"
														class="help-block">password must be less than 8
														characters</p>
												</div>
											</form>

											<input id="upBtn" type="button"
												ng-disabled="updateCompForm.$invalid"
												ng-click="doUpdate(this.company.companyId,company.email,company.password)"
												value="Update" />
										</div>
									</div>

									<div class="wrapper">
										<p ng-hide="allCompDelDiv"></p>
										<div ng-show="allCompDelDiv">
											<h3>Are you sure you want to delete this company?</h3>
											<input id="yes" type="button"
												ng-click="deleteCompany(this.company.companyId)" value="Yes" />
											<input id="no" type="button" ng-click="refreshTables()"
												value=" No" />

										</div>
									</div></td>
							</tr>
						</tbody>


					</table>

				</div>





			</div>


			<div id="responseMainCust">
				<button class="aaa2" id="closeResponse" onclick="Do()">X</button>
				<div class="tooltip">
					<button id="refresh" ng-click="refreshTables()"></button>
					<span class="tooltiptext">Refresh data</span>
				</div>
				<p id="allCustHeader">All existing Customers</p>
				<div id="orderByDiv2">
					Order by:<select id="selectByInput" ng-model="sortColumn">

						<option value="customerId">Customer Id</option>
						<option value="customerName">Customer Name</option>
						<!-- 	<option value="customerPassword">Customer Password</option> -->
					</select>
				</div>

				
				<div id="CustScrollDiv">
					<table id="allCustTable" border="1">
						<thead>
							<tr>
								<th id="idHead2">Id</th>
								<th id="nameHead2">Name</th>
								<!-- 	<th id="passwordHead">Password</th> -->
								<th id="actionsHead2">Actions</th>

							</tr>
						<tbody>
							<tr
								ng-repeat="customer in customers  |  orderBy:sortColumn   | filter:searchText">
								<td>{{ customer.customerId}}</td>
								<td>{{ customer.customerName}}</td>
								<td><input id="allCustUp" type="button"
									ng-click="allCustUpDiv=true" class="blue-button" value="Edit" />
									<input type="button" ng-click="allCustDelDiv=true"
									class="red-button" value="Delete" />

									<div class="wrapper">
										<p ng-hide="allCustUpDiv"></p>
										<div ng-show="allCustUpDiv">

											<form name="updateCustForm" novalidate>

												<p>Please enter the new password:</p>

												<div class="form-group"
													ng-class="{ 'has-error' : updateCustForm.password.$invalid && !updateCustForm.password.$pristine }">
													<input type="password" name="password" class="form-control"
														ng-model="customer.password" ng-minlength="4"
														ng-maxlength="8">
													<p ng-show="updateCustForm.password.$error.minlength"
														class="help-block">Minimum 4 characters required</p>
													<p ng-show="updateCustForm.password.$error.maxlength"
														class="help-block">password must be less than 8
														characters</p>
												</div>
											</form>

											<input id="upBtn" type="button"	ng-disabled="updateCustForm.$invalid"
												ng-click="doUpdateCust(this.customer.customerId,customer.password)"
												value="Update" />

										</div>
									</div>

									<div class="wrapper">
										<p ng-hide="allCustDelDiv"></p>
										<div id="content" ng-show="allCustDelDiv">
											<h3>Are you sure you want to delete this customer?</h3>
											<input id="yes" type="button"
												ng-click="deleteCustomer(this.customer.customerId)"
												value="Yes" /> <input id="no" type="button"
												ng-click="refreshTables()" value=" No" />


										</div>
									</div></td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>



		</div>
		<!--end of MAIN 3X3 GRID div-->
	</div>
	<!--end of innerBackground div-->

	<!--end of controller div-->

</body>

</html>
